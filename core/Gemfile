source 'http://rubygems.org'

# our servers still run on 1.9.2, we should update those first
# ruby '1.9.3'

# Defaults
gem 'rails', '3.2.7'
gem 'activerecord', '3.2.7'
gem 'bcrypt-ruby', '~> 3.0.1'
gem 'sqlite3-ruby', :require => 'sqlite3'
gem 'rake', '~> 0.9.2', :require => false
gem 'memoist'

gem 'addressable'

# Mongo
gem 'mongoid', '~> 2.4.4'
gem 'mongo', '= 1.3.1'
gem 'bson', '= 1.3.1'
gem 'bson_ext', '= 1.3.1'

# Redis
gem 'redis', '2.2.1'
gem 'ohm', :git => 'https://github.com/Factlink/ohm.git' # we need the tribalvibes fork (0.1.4), for polymorphism
gem 'ohm-contrib', :git => 'http://github.com/Factlink/ohm-contrib.git'
gem 'redis-aid'
gem 'redis-objects'
gem 'multi_json', '>= 1.2.0'

gem 'resque', '1.23.0', :require => 'resque/server'
gem 'resque_mailer'

gem 'stringex'

gem 'mixpanel', git: 'https://github.com/Factlink/mixpanel.git'

# Mustache
gem 'mustache'
gem 'mustache_rails3', :git => 'https://github.com/Factlink/mustache_rails3.git'

gem "sentry-raven"
gem "resque-sentry"

# Everyone loves JSON
gem 'json'
gem 'jbuilder'

# Needed for migrations to be compatible when no sql backend is available
gem 'mongoid_rails_migrations', '0.0.13'

# User authentication and authorization
gem 'devise', '~> 2.0.0'
gem 'devise_invitable', '~> 1.0.0'
gem 'cancan'

gem 'resqued_devise_mailer', :git => 'https://github.com/Factlink/resqued_devise_mailer.git'


# social connections
gem 'omniauth-facebook'
gem 'omniauth-twitter'

gem 'httparty'

# Andand is a library to handle nil more easily
gem 'andand', '~> 1.3.3'

#browser detection
gem 'browser'

# Deployment
#group :capistrano do
  gem 'capistrano', require: false
  gem 'capistrano-ext', require: false
  gem 'rvm-capistrano', require: false
#end

gem 'roadie'

# imagemagick
gem 'rmagick', require: false

# Set X-Frame-Headers
gem 'rack-xframe-options', git: 'git@github.com:Factlink/rack-xframe-options.git'
gem 'rack-rewrite'

group :production do
  gem 'rpm_contrib', '2.1.7'
  gem 'newrelic_rpm'
end

group :assets do
  # Temporary fix for @import bug, merge back to original Gem when it's in master
  gem 'less-rails', '>= 2.1.5'
  gem 'uglifier', '>= 1.0.3'
  gem 'hogan_assets', '= 1.0.3'

  gem 'therubyracer'

  # jQuery
  gem 'jquery-rails', '= 2.1.2'
  gem 'less-rails-bootstrap', '>= 2.1.1'
  gem 'modernizr-rails', "~> 2.0.6"

  gem "rails-backbone", '= 0.7.2'
  gem "marionette-rails", '= 0.9.6.1' # When updating, check source for 'updating Marionette'
end

group :development do
  # mesa want speed:
  gem 'rails-dev-tweaks', '~> 0.6.1'
  gem 'pry', :require => false

  #for static files serving
  gem 'rack'
  gem 'thin'

  gem 'letter_opener'

  gem 'lograge'
end

group :test do
  gem 'rspec-rails'
  gem 'factory_girl_rails', '~> 3.5'
  gem 'database_cleaner'
  gem 'mock_redis'

  gem 'fivemat'

  gem 'capybara', require: false
  # capybara-webkit 0.11 breaks with the QT on the CI. Use 0.10.1 for now
  gem 'capybara-webkit', '= 0.10.1', require: false
  gem 'capybara-screenshot'
  gem 'capybara-email'
  gem 'oily_png'
  gem 'headless'

  gem 'rb-fsevent', '~> 0.9.1'
  gem 'guard'
  gem 'guard-rspec'
end

group :jstest do
  gem 'jasmine'
  gem 'jasmine-headless-webkit', git: 'https://github.com/johnbintz/jasmine-headless-webkit.git'
  gem "jasmine-spec-extras", "~> 0.0.2"
end

group :development do
  # SHUT THE FUCK UP
  gem 'quiet_assets'
  # Profiling
  gem 'ruby-prof'
end

group :metrics do
  #suddenly we need to require this gem, else bundle update goes wrong, we never use it however
  gem 'rcov', '0.9.11', :require => false
  gem 'brakeman'

  gem 'metric_fu', '2.1.1', :require => false
  #dependencies of metric_fu:
    gem 'fattr', :require => false
    gem 'arrayfields', :require => false
    gem 'map', :require => false
    #use simplecov instead of rcov:
    gem 'simplecov', :require => false
    gem 'simplecov-rcov-text', :require => false
end
