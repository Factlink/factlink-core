source 'http://rubygems.org'

# Defaults
gem 'rails', '3.2.6'
gem 'activerecord', '3.2.6'
gem 'bcrypt-ruby', '~> 3.0.1'
gem 'sqlite3-ruby', :require => 'sqlite3'
gem 'rake', '~> 0.9.2', :require => false

# Mongo
gem 'mongoid', '~> 2.4.4'
gem 'mongo', '= 1.3.1'
gem 'bson', '= 1.3.1'
gem 'bson_ext', '= 1.3.1'

# Redis
gem 'redis', '2.2.1'
gem 'ohm', :git => 'https://github.com/Factlink/ohm.git' # we need the tribalvibes fork (0.1.4), for polymorphism
gem 'ohm-contrib', :git => 'http://github.com/Factlink/ohm-contrib.git'
gem 'redis-aid'
gem 'redis-objects'
gem 'multi_json', '1.1.0'

gem 'resque', '1.19.0'
gem 'resque_mailer'

gem 'stringex'

# Fake Fact Page
gem 'hashie'

gem 'mixpanel', '~> 1.1.3'

# Pagination & sorting
gem 'will_paginate', '~> 3.0'


gem 'client_side_validations'

# Mustache
gem 'mustache'
gem 'mustache_rails3', :git => 'https://github.com/Factlink/mustache_rails3.git'


# Everyone loves JSON
gem 'json'
gem 'jbuilder'

# for easy json generation
gem 'jbuilder'

# Sunspot / Solr
gem 'sunspot_solr', '~> 1.3.0'
gem 'sunspot_rails', '~> 1.3.0'
gem 'sunspot_mongoid', :git => 'https://github.com/Factlink/sunspot_mongoid.git'

# Needed for migrations to be compatible when no sql backend is available
gem 'mongoid_rails_migrations', '0.0.13'

# User authentication and authorization
gem 'devise', '~> 2.0.0'
gem 'devise_invitable', '~> 1.0.0'
gem 'cancan'

gem 'resqued_devise_mailer', :git => 'https://github.com/Factlink/resqued_devise_mailer.git'


gem 'possessive'

# Andand is a library to handle nil more easily
# http://andand.rubyforge.org/
# gem 'andand'
# newer version does not give creepy warning:
gem 'andand', :git => 'http://github.com/Factlink/andand.git'

# Email on errors
group :testserver, :staging, :production do
  #gem 'exception_notification', :require => 'exception_notifier'
end
gem 'airbrake'

# Deployment
group :capistrano do
  gem 'capistrano', :require => false
  gem 'capistrano-ext', :require => false
end

# imagemagick
gem 'rmagick', require: false

# Set X-Frame-Headers
gem 'rack-xframe-options', git: 'git@github.com:Factlink/rack-xframe-options.git'
gem 'rack-rewrite'

group :production do
  gem 'rpm_contrib', '2.1.7'
  gem 'newrelic_rpm'
end

group :assets do
  # Temporary fix for @import bug, merge back to original Gem when it's in master
  gem 'less-rails', '>= 2.1.5'
  gem 'uglifier', '>= 1.0.3'
  gem 'hogan_assets'

  # jQuery
  gem 'jquery-rails', '>= 1.0.17'
  gem 'less-rails-bootstrap', '>= 2.0.6'
  gem 'modernizr-rails', "~> 2.0.6"

  gem "marionette-rails", "~> 0.9.0"
end

group :development do
  # mesa want speed:
  gem 'rails-dev-tweaks', '~> 0.6.1'
  gem 'pry', :require => false

  #for static files serving
  gem 'rack'
  gem 'thin'

  gem 'letter_opener'
end

group :test do
  gem 'rspec-rails'
  gem 'factory_girl_rails', '~> 3.0'
  gem 'database_cleaner'
  gem 'mock_redis'

  gem 'fivemat'

  gem 'capybara', require: false
  # capybara-webkit 0.11 breaks with the QT on the CI. Use 0.10.1 for now
  gem 'capybara-webkit', '= 0.10.1', require: false
  gem 'capybara-screenshot'
  gem 'capybara-email'
  gem 'chunky_png'
  gem 'headless'
end

group :jstest do
  gem 'evergreen', :require => 'evergreen/rails'
end

group :development do
  # SHUT THE FUCK UP
  gem 'quiet_assets'
  # Profiling
  gem 'ruby-prof'
end

group :metrics do
  #suddenly we need to require this gem, else bundle update goes wrong, we never use it however
  gem 'rcov', '0.9.11', :require => false
  gem 'brakeman'

  gem 'metric_fu', '2.1.1', :require => false
  #dependencies of metric_fu:
    gem 'fattr', :require => false
    gem 'arrayfields', :require => false
    gem 'map', :require => false
    #use simplecov instead of rcov:
    gem 'simplecov', :require => false
    gem 'simplecov-rcov-text', :require => false
end
