@import "bootstrap/mixins";

// Layout variables
@impactCircleDiameter: 53px;
@impactColouredBorderWidth: 3px;

// Arrows:
@arrowInnerSpacing: 8px;
@arrowWidth: 21px;
@arrowHeight: 12px;

// It would look weird for the evidence boxes to end before the impact circles.
// Therefore, the believing/disbelieving boxes need a minimum height.
@evidenceBoxMinHeight: @impactCircleDiameter;

.evidence-container {
  margin: 80px 30px 0;
}

.evidence-believes, .evidence-disbelieves, .evidence-unsure {
  position: relative;
  margin-bottom: 20px;
}

.evidence-relevance {
  position: absolute;
  top: 50%;
  left: 0;
  margin-top: -@impactCircleDiameter/2;

  .white-block-with-shadow();
  width:  @impactCircleDiameter;
  height: @impactCircleDiameter;
  border-radius: 1000px;
}

.evidence-relevance-text {
  .new-design-font();
  font-size: @heading1FontSize;
  line-height: @impactCircleDiameter;
  text-align: center;
}

.evidence-box {
  min-height: @evidenceBoxMinHeight;
  margin-left: 100px;
}

// Irrelevant (faded out)
.evidence-irrelevant > .evidence-box {
  opacity: 0.6;
  .transition(opacity 0.2s);

  &:hover {
    opacity: 0.9;
  }
}

// Coloured half-circles
.evidence-relevance::after {
  content: '';
  position: absolute;
  top:    -@impactColouredBorderWidth;
  bottom: -@impactColouredBorderWidth;
  right:  -@impactColouredBorderWidth;
  left: ceil(@impactCircleDiameter/2) - 1px;

  border-top-right-radius:    1000px;
  border-bottom-right-radius: 1000px;
}

.evidence-believes > .evidence-relevance::after {
  border: @impactColouredBorderWidth solid @believesEvidenceImpactColor;
  border-left: none;
}

.evidence-disbelieves > .evidence-relevance::after {
  border: @impactColouredBorderWidth solid @disbelievesEvidenceImpactColor;
  border-left: none;
}

.evidence-unsure > .evidence-relevance::after {
  border: @impactColouredBorderWidth solid @doubtsEvidenceImpactColor;
  border-left: none;
}

// Voting arrows
.evidence-relevance-vote {
  position: absolute; // needs to be positioned for popover
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

.evidence-relevance-vote-up, .evidence-relevance-vote-down {
  width: @arrowWidth;
  height: @arrowHeight;
  position: absolute;
  left: @impactCircleDiameter/2 - @arrowWidth/2 + 1px;

  display: none;
}

.evidence-relevance-vote-up {
  top: -@arrowHeight - @arrowInnerSpacing;
  background: asset-data-url( 'evidence-arrows/up-arrow-unclicked.png');
  opacity: 0.7;

  &:hover {
    opacity: 1;
  }

  &.active {
    background: asset-data-url('evidence-arrows/up-arrow-clicked.png');
  }
}

.evidence-relevance-vote-down {
  bottom: -@arrowHeight - @arrowInnerSpacing;
  background: asset-data-url('evidence-arrows/down-arrow-unclicked.png');
  opacity: 0.7;

  &:hover {
    opacity: 1;
  }

  &.active {
    background: asset-data-url('evidence-arrows/down-arrow-clicked.png');
  }
}

.evidence-votable {
  padding-top: 22px;

  .evidence-relevance-vote-up, .evidence-relevance-vote-down {
    display: block;
  }
}
