$('li#fl-source-<%= @fact_relation.id %> div.fl-opinion-container > div.fl-opinion-toggle-buttons').html("<%= escape_javascript(render :partial => 'facts/partial/opinion_options', :locals => { :fact_relation => fact_relation }) %>");

// Replace the Bar Chart of the main Fact
$('div.fl-stats:first').replaceWith('<%= escape_javascript(render :partial => "facts/partial/bar_chart", :locals => { :fact => @fact_relation.get_to_fact }) %>');

parent.remote.update_opinions( '<%= @fact_relation.get_to_fact.id %>', <%= @fact_relation.get_to_fact.get_opinion.as_percentages.to_json.html_safe %> );

// Replace recalculated percentages
<% @fact_relation.get_to_fact.fact_relations.each do |fact_relation| %>
	$('li#fl-source-<%= fact_relation.id %> div.fl-source-stats').replaceWith("<%= escape_javascript(fl_source_stats(fact_relation)) %>");
<% end %>